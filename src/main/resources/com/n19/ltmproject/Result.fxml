<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>

<AnchorPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.n19.ltmproject.client.controller.ResultController">
    <children>
        <!-- Background Image -->
        <ImageView layoutX="0" layoutY="0" fitWidth="600" fitHeight="600">
            <image>
                <Image url="@images/resultbackground.png"/>
            </image>
        </ImageView>

        <!-- Game Title -->
        <Label fx:id="gameTitle" layoutX="200" layoutY="0" text="GAME PHÂN LOẠI RÁC"
               style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: black;"/>

        <!-- Result Label -->
        <Label fx:id="resultLabel" layoutX="220" layoutY="250" text="KẾT QUẢ TRÒ CHƠI"
               style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;"/>

        <!-- Score Section -->
        <HBox layoutX="160" layoutY="300" spacing="40">
            <!-- Player 1 Section -->
            <VBox alignment="CENTER">
                <ImageView fitWidth="80" fitHeight="80">
                    <image>
                        <Image url="@images/useravartar.png"/>
                    </image>
                </ImageView>
                <Label fx:id="currentPlayerLabel" text="PLAYER 1" style="-fx-text-fill: white;"/>
            </VBox>

            <!-- Score Label -->
            <VBox alignment="CENTER">
                <Label text="TỈ SỐ" style="-fx-text-fill: white; -fx-font-size: 16px;"/>
                <Label fx:id="scoreLabel" text="0 - 0" style="-fx-font-size: 40px; -fx-text-fill: white;"/>
            </VBox>

            <!-- Player 2 Section -->
            <VBox alignment="CENTER">
                <ImageView fitWidth="80" fitHeight="80">
                    <image>
                        <Image url="@images/useravartar3.png"/>
                    </image>
                </ImageView>
                <Label fx:id="opponentPlayerLabel" text="PLAYER 2" style="-fx-text-fill: white;"/>
            </VBox>
        </HBox>

        <!-- Buttons Section -->
        <HBox layoutX="220" layoutY="420" spacing="30">
            <!-- Play Again Button -->
            <Button fx:id="playAgainButton" text="Thách đấu lại" onAction="#handlePlayAgain"
                    style="-fx-background-color: #4CAF50; -fx-text-fill: white;"/>

            <!-- Exit Button -->
            <Button fx:id="exitButton" text="Thoát" onAction="#handleExit"
                    style="-fx-background-color: #FF0000; -fx-text-fill: white;"/>
        </HBox>

        <!-- Chat Display Section -->
        <ScrollPane layoutX="20" layoutY="450" prefWidth="560" prefHeight="100" style="-fx-background: #333;">
            <VBox fx:id="chatBox" spacing="5" style="-fx-padding: 10;">
                <!-- Tin nhắn sẽ được thêm vào đây -->
            </VBox>
        </ScrollPane>

        <!-- Chat Input Section -->
        <HBox layoutX="20" layoutY="560" spacing="10">
            <!-- Chat Input Field -->
            <TextField fx:id="chatInput" promptText="Nhập tin nhắn..." prefWidth="400"/>

            <!-- Send Button -->
            <Button text="Gửi" onAction="#handleSendChat"
                    style="-fx-background-color: #4CAF50; -fx-text-fill: white;"/>
        </HBox>
    </children>
</AnchorPane>
